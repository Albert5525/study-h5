<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>事件委托</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        li{
            margin: 10px;
            border: 1px solid #CCCCCC;
            list-style: none;
        }
        ul{
            margin: 100px;
        }
    </style>
</head>
<body>
    <ul>
        <li>知否知否，点我应有弹框在手1</li>
        <li>知否知否，点我应有弹框在手2</li>
        <li>知否知否，点我应有弹框在手3</li>
        <li>知否知否，点我应有弹框在手5</li>
        <li>知否知否，点我应有弹框在手5</li>
    </ul>
    <script>


        /*
        * 事件委托
        *   事件冒泡本身的特性 会带来坏处  也会带来好处  需要我们灵活掌握 生活中有如下场景
        *       一个班级有100个学生  快递员有100个快递 如果一个个的送花费的时间较长  同时每个学生领取的时候  也需要排队领取，花费的时间也较长
        *   解决方案：
        *       快递员吧100个快递 委托 给班主任  班主任把这些快递放到办公室，同学蟹壳自行领取即可
        *   优势：快递员说省事，委托给班主任就可以走了，同学领取也方便，因为相信班主任。
        *
        *
        * 事件委托：也称事件代理，在jQuery里面称为事件委托。
        *
        * 事件委托的原理：
        *   不是每个子节点单独设置事件监听器，而是事件监听器设置在其父节点上，然后利用冒泡原理影响设置每个子节点
        * 事件委托的作用：我们只操作了一次DOM，提高了程序的性能。
        *
        * 例如本案例：我们不需要为每个li设置事件监听器，而是给父节点ul设置事件监听，这样在点击li的时候，会将点击事件通过事件冒泡传递给父节点ul
        *           我们在通过事件的target属性就能获得事件的发起者是谁，这样就能通过父节点的事件处理函数来处理子节点的事件。
        *
        * 事件委托的核心：给父节点添加侦听器，利用冒泡影响每一个子节点
        *
        * */
        var ul = document.querySelector("ul");
        ul.addEventListener("click", function (e) {
            alert(e.target.innerHTML);
            for (let i = 0; i < this.children.length; i++) {
                this.children[i].style.backgroundColor = '#fff';
            }
            e.target.style.backgroundColor = 'pink';
        });

    </script>
</body>
</html>